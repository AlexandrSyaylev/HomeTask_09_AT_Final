
# План автоматизации тестирования сценария перехода к форме записи и заполнения формы

## Цели тестирования: 
1. Проверить доступность для пользователя формы записи на курс: обучение профессии “Тестировщик ПО” на сайте https://netology.ru
2. Убедится в корректом функционировании полей ввода формы заявки на обучения.
3. Убедится в корректном ответе полей ввода формы на введенные данные (валидные и невалидные).
4. Убедится в корректной работе формы заявки на обучение - информация о заявке поступает в дальнейшую работу в установленном ТЗ виде, информация, поступающая в обработку, соответствует введенной в поля формы информации, её объем достаточен для дальнейшей обработки и соответствует требованиям ТЗ.

## Цель автоматизации тестирования 
Снижение стоимости затрат на регулярно повторяющееся в процессе разработки, модернизации, редизайна и сопровождения сайта и платформы обучения https://netology.ru регрессионное тестирование за счет снижения затраченных на него человеко-часов.


## Перечень автоматизируемых сценариев

### Сценарий входа на курс. 
Поскольку на форму записи мы можем попасть несколькими способами, сценариев будет несколько.

### Сценарий 1 пользовательского пути записи на курс:

1. С главной страницы: https://netology.ru/ 
1. Нажать каталог курсов
1. Выбрать программирование
1.  Кликнуть Тестировщик ПО
1. На открывшейся странице https://netology.ru/programs/qa#/ (прокрутить вниз страницы, при использовании локаторов прокручивать не надо) ввести в поля тестовые данные.

### Сценарий 2 пользовательского пути записи на курс:

1. На главной странице https://netology.ru/
1. В блоке "Направления обучения" Кликнуть боксу "Програмирование"  
1. На открывшейся странице https://netology.ru/development кликнуть по "Тестировщик ПО"
1. На открывшейся странице https://netology.ru/programs/qa#/ (прокрутить вниз страницы, при использовании локаторов прокручивать не надо) ввести в поля тестовые данные.


### Сценарий 3 пользовательского пути записи на курс:
1. На главной странице https://netology.ru/
1. Прокрутить до подвала, в подвале нажать на "Програмирование" 
1. На открывшейся странице https://netology.ru/development кликнуть по "Тестировщик ПО"
1. На открывшейся странице https://netology.ru/programs/qa#/ (прокрутить вниз страницы, при использовании локаторов прокручивать не надо) ввести в поля тестовые данные.

### Сценарий 4, переход по прямой ссылке:
1. На странице https://netology.ru/programs/qa#/main нажать "записатся" (type="button") (У нижней Записаться type="order")
1. ввести в поля тестовые данные.



### Сценарий заполнения формы записи на обучение:
Здесь обычный набор сценариев тестов формы ввода, которые прекрасно поддаются автоматизации: 
- тестирование полей ввода  
-валидные значения для каждого поля:  
-имя, например, Алексей  
-телефон, например +7(900)800-00-00  
-е-мейл, example@mail.ru  
  
  
Ожидаемый резльтат ввода данных в поля формы -поля принимают значения, нет сообщений об ошибках о некорректом вводе   
  
-невалидные значения для каждого поля
  
  
### Другие тестовые сценарии, связанные с функциональностью формы заявки 
- тестирование формы:  
-отправка пустой формы (все поля пустые), ожидаем сообщения об ошибке, что форма не заполнена, или невозможность отправки пустой формы (отсутствие сообщения об отправке) - в зависимости от реализации конкретной формы;  
-отправка формы с незаполненными полями (не все поля заполнены);  
-отправка формы с невалидными данными;  
-отправка формы с валидными данными. 
  
  
- проверка, что заявка ложится в админку (корректно обрабатывается), и что менеджер (администратор) получает уведомление (письмо) о новом обращении, формат и содержание сообщения менеджеру соответствует ТЗ: что в заявке у менеджера указываются те же данные, что и при заполнении формы, указывается от кого заявка - от зарегистрированного пользователя или нет.

- проверка наличия кнопок:  
-записаться;  
-получить консультацию;  
-войти
  
  
- проверка что при клике по ссылкам Политика... и Пользовательское соглашение открываются соответствующие страницы, и текст (выборочно) на них соответствует ТЗ.
- Функциональность кнопки войти: - открвывается страница авторизации и регистрации (а это уже другой кейс -тестирование формы авторизации и тетрование формы регистации); 
			
- тестирование сценария отправки формы (клика по кнопке Отправить):  
-зарегистрированным неавторизованным пользователем ожидаемый резльтат: форма отправляет заявку, пользователь получает уведомление о приеме заявки, авторизация не происходит, при авторизации в ЛК появляется информация о заявке;  
-зарегистрированным авторизованным пользователем - ожидаемый резльтат: форма отправляет заявку, пользователь получает уведомление о приеме заявки, при авторизации в ЛК появляется информация о заявке;  
-незарегистрированным пользователем ожидаемый резльтат: форма отправляет заявку, пользователь получает уведомление на указанную почту и на указанный телефон о приеме заявки;.
	



## Перечень используемых инструментов с обоснованием выбора

Для проведения автоматизированного тестирования понадобится:

  * Установленная среда разработки - IntelleJ Idea (последняя версия) - для написания, поддержки, обеспечения и запуска автотестов. Выбор IDE основан на преимуществах полноценной IDE перед узкоспециализированными ПО (например, Selenium IDE) - широкой поддержкой, большим количеством подключаемых библиотек, широкой возможностью их настройки, что дает большую гибкость в настройке, лучшую реализацию тестов, большее покрытие и удобные средства контроля (как встроенные, так и внешние подключаемые). Лучший контроль позволит избежать ошибок интерпретации результатов, сократит время на сопровождение и актуализацию тестов.

  * Junit 5 (Junit Jupiter 5.8.1) - как понятную и хорошо изученную библиотеку для организации тестирования. 

  * Web Driver и фреймворк Selenide - как удобное, легкое в подключении, настройке и контроле дополнение к Idea для автоматизации действий пользователя.

  * Google Chrome (последняя версия) - как среда работы Selenide web driver.

  * JavaFaker 1.0.2  - как удобный в подключении и легкий в настройке источник тестовых данных (данных пользователя для регистрации).

  * Qameta Allure Framework - как система логирования результатов тестирования с возможностью автоматически делать скриншоты при падении тестов. 

  * Jira - как доступная и удобная система баг трекинга - для контроля всего жизненного цикла багов.

  * система контроля версий GitHub - для хранения и поддержки автотестов и файлов конфигурации IDE и подключенных модулей.  


  ## Перечень необходимых разрешений/данных/доступов	
				
	Для проведения автотестов необходимы разрешения от администрации ОАО Нетология:
	1. На проведение тестирования на сайте на проде- 
	2. На разовую автоматизацию тестирования пользовательского пути на проде - для демонстрации всех преимуществ регулярного автоматизированного тестирования для заказчика. 
	3. На проведение автоматизированного тестирования на сайте на регулярной основе - запросы на продах индексируются роботами и поисковыми системами, могут искажать статистику маркетологов, СЕО, менеджеров по продвижению/развитию/продажам/аналитикам, а автоматизированное тестирование с любого сценария на регулярной основе подразумевает многократные часто повторяющиеся запросы, что создает дополнительную нагрузку на сервер, также может потребоваться отключение невидимой капчи (по расписанию).
	4. На отправку тестовых заявок, и согласование их текста - для того чтобы администраторы и менеджеры не обрабатывали тестовые заявки и аналитики не включали бы их в статистику.
	5. Если есть согласие на тестирование обратной связи по форме - нужно разрешение и доступ к админке (форме или почте с заявками)- что бы убедится что заявка туда ложится (наверное это тоже можно автоматизировать- например поиск по Имени или тексту заявки).


  ## Перечень и описание возможных рисков при автоматизации

Каждый сценарий содержит большое количество шагов, и изменение любого шага приведет к обрушению всего сценария, даже если изменится название селектора хоть на один символ. Изменения могут происходить в результате редизайна, обновления страниц, возможен выход новых версий сайта, которые будут разрабатывать другая команда и элементы будут иметь другие селекторы или другой уровень вложенности. 
Это влечет за собой дополнительные расходы на поддержку, актуализацию и сопровождение сценариев. Также возможно появление "новых удобств для пользователя", что потребует создание новых тестовых сценариев, так как существующие сценарии не будут покрывать весь функционал. Собственно, фронтэнд чаще всего подвержен изменениям и "улучшениям". Но здесь и плюс от автоматизации - при большом количестве изменений и обновлений есть потребность в автоматизации регресса. 
Также к рискам можно отнести работающие системы блокировки (игнорирования) ботов(роботов) (например, невидимая капча), которые могут обрушить даже правильный сценарий. 
Помимо очевидных рисков автоматизации, перечисленных выше, можно назвать и неочевидные риски - внедрение автоматизации предъявляет высокие требования к уровню подготовки персонала, занятого планированием, внедрением, проведением и сопровождением автоматизированных тестов, так как при несоответствии уровня подготовки кадров может возникнуть ситуация с положительным прохождением неэффективных тестов, в этом случае будет неверно истолкован тестируемый функционал. Также возможна неверная интерпретация негативных результатов тестирования, возможно толкование ошибки тестов как ошибка тестируемого функционала. 
	

  ## Перечень необходимых специалистов для автоматизации

  - Для подготовки, проведения и поддержки автотестов в определенном настоящим планом объеме необходим 1 специалист автоматизированного тестирования. 
  - Для планирования, согласования и предоставления заказчику результатов тестирования, а также анализа пожеланий заказчика и пояснения объема работ и их необходимости необходим 1 менеджер.
  - Для проведения анализа эффективности тестов, покрытия, составления сценария и других работ необходим 1 аналитик.


  ## Интервальная оценка с учетом рисков (в часах)

  * Время, необходимое для планирования автотестов - 3 часа;
  * Составление сценариев автотестов - 3 часа;
  * Согласование объема тестирования, используемых сценариев, получения разрешения - 24 часа;
  * Реализация всех тестовых сценариев в коде и их отладка - 12 часов;
  * Запуск всех тестовых сценариев - 2 часа (на все сценарии, включая негативные).
  * Сбор результатов тестирования и их анализ - 2 часа (при условии ожидаемого прохождения тестов). 
  * Заведение баг-репоров (при их наличии) - 0.5 часа на каждый негативный результат.
  * Оформление отчета о проделанной работе - 2 часа.
  * Дополнительные расходы на поддержку и актуализацию автотестов - дополнительно 2 часа на каждый период обновления.

  ### Итого: 
  + Трудозатраты на подготовительном этапе (разовые) - 42 часа.
  + Трудозатраты на проведение одного цикла подготовленных автотестов (с учетом сбора и анализа результатов) - 6 часов.
  + Всего трудозатрат при разовом запуске автотестов (без учета времени на заведение баг отчетов и трудозатрат на поддержку) - 48 часов.

